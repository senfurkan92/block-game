"use strict";(self["webpackChunkblock_game"]=self["webpackChunkblock_game"]||[]).push([[232],{6232:function(e,t,l){l.r(t),l.d(t,{default:function(){return S}});var o=l(3396);function s(e,t,l,s,a,r){const n=(0,o.up)("router-view"),i=(0,o.up)("GameLayout");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i,null,{"game-area":(0,o.w5)((()=>[(0,o.Wm)(n)])),_:1})])}var a=l(7139),r=l(9749),n=l(678),i=l(4870),c={setup(e){const t=(0,r.oR)(),l=(0,i.iH)(null);return(0,o.bv)((()=>{l.value=document.querySelector(".ball"),t.commit("collision/findBallBorders",l.value.getBoundingClientRect()),setInterval((()=>{const e=(new Date).getTime(),o=e-t.state.ball.lastMoveTime.getTime();o>50&&t.dispatch("ball/moveTo",l.value)}),1)})),(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"ball",style:(0,a.j5)({top:e.$store.getters["ball/getPosY"],left:e.$store.getters["ball/getPosX"]})}," . ",4))}},d=l(89);const u=(0,d.Z)(c,[["__scopeId","data-v-5d8a5055"]]);var p=u,v={setup(e){const t=(0,r.oR)(),l=(0,o.Fl)({get(){return`${t.state.standarts.stopperPx}px`}}),s=(0,o.Fl)({get(){return 19*t.state.standarts.ysidePx+"px"}}),n=(0,i.iH)(null);return(0,o.bv)((()=>{n.value=document.querySelector("#stopper"),t.commit("collision/assignStopperBorders",n.value.getBoundingClientRect())})),window.onkeydown=e=>{const l=n.value.getBoundingClientRect().left,o=n.value.getBoundingClientRect().right;if("d"===e.key&&o<t.state.collision.areaBorders.right-10){const e=Number(`${n.value.style.left}`.replace("%",""));n.value.style.left=`${e+t.state.standarts.stopperSpeed}%`,t.commit("collision/assignStopperBorders",n.value.getBoundingClientRect())}if("a"===e.key&&l>t.state.collision.areaBorders.left+10){const e=Number(`${n.value.style.left}`.replace("%",""));n.value.style.left=e-t.state.standarts.stopperSpeed+"%",t.commit("collision/assignStopperBorders",n.value.getBoundingClientRect())}},(e,t)=>((0,o.wg)(),(0,o.iD)("div",{id:"stopper",style:(0,a.j5)([{height:"20px",background:"gray",position:"absolute",left:"50%",transform:"translateX(-50%)"},{width:(0,i.SU)(l),top:(0,i.SU)(s)}])},null,4))}};const m=v;var g=m;const f={ref:"parentElRef",style:{width:"100%",position:"relative"}},w={class:"center-x"},y={class:"indicator-area"},b={class:"game-area"};var B={setup(e){const t=(0,r.oR)(),l=(0,n.yj)(),s=l.fullPath.split("-")[1];return(0,o.bv)((()=>{t.dispatch("collision/findBlocksBorders",{doc:document,level:s}),t.commit("collision/findAreaBorders",document),window.onresize=()=>{t.commit("collision/findAreaBorders",document)}})),(e,t)=>((0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("div",w,[(0,o._)("div",y,[(0,o._)("div",null,"Score: "+(0,a.zw)(e.$store.state.player.score),1),(0,o._)("div",null,"Health: "+(0,a.zw)(e.$store.state.player.health),1)]),(0,o._)("div",b,[(0,o.WI)(e.$slots,"game-area")]),(0,o.Wm)(p),(0,o.Wm)(g),(0,o.Uk)(" "+(0,a.zw)(e.$store.state.ball.lastMoveTime.getTime()),1)])],512))}};const h=(0,d.Z)(B,[["__scopeId","data-v-2cd35939"]]);var k=h,_={name:"game-area",components:{GameLayout:k}};const R=(0,d.Z)(_,[["render",s]]);var S=R}}]);
//# sourceMappingURL=232.dc60c1a0.js.map